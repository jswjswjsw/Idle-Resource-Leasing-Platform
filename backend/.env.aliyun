# ==============================================
# 阿里云部署环境变量配置
# ==============================================

# ----- 基础配置 -----
NODE_ENV=production
API_VERSION=1.0.0
PORT=5000

# 阿里云域名配置
FRONTEND_URL=https://your-domain.com
BACKEND_URL=https://api.your-domain.com

# ----- 数据库配置 -----
# 阿里云RDS PostgreSQL连接
DATABASE_URL=postgresql://tradeuser:TradePass123!@your-rds-endpoint:5432/trade_platform

# ----- Redis 缓存配置 -----
# 阿里云Redis实例（或自建Redis）
REDIS_HOST=your-redis-host.redis.rds.aliyuncs.com
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0

# ----- JWT 认证配置 -----
# 生产环境强密码（至少32位）
JWT_SECRET=your-super-secure-jwt-secret-for-aliyun-production-32chars
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=your-super-secure-refresh-secret-for-aliyun-production-32chars
JWT_REFRESH_EXPIRES_IN=30d

# ----- 🔑 高优先级服务配置 -----

# GitHub OAuth（必需）
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
GITHUB_REDIRECT_URI=https://api.your-domain.com/api/auth/oauth/github/callback

# 高德地图API（必需）
AMAP_API_KEY=your-amap-api-key

# 支付宝沙箱（必需）
ALIPAY_SANDBOX_APP_ID=2021000000000001
ALIPAY_SANDBOX_PRIVATE_KEY=MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC...
ALIPAY_SANDBOX_PUBLIC_KEY=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA...

# ----- 🔄 中优先级服务配置 -----

# 阿里云短信服务（推荐）
ALIYUN_SMS_ACCESS_KEY_ID=LTAI5your-access-key-id
ALIYUN_SMS_ACCESS_KEY_SECRET=your-access-key-secret
ALIYUN_SMS_SIGN_NAME=交易平台
ALIYUN_SMS_TEMPLATE_CODE=SMS_123456789

# Google OAuth（推荐）
GOOGLE_CLIENT_ID=your-google-client-id.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-your-google-client-secret
GOOGLE_REDIRECT_URI=https://api.your-domain.com/api/auth/oauth/google/callback

# ----- 📋 低优先级服务配置（可选） -----

# 百度地图API（备选）
BAIDU_MAP_API_KEY=your-baidu-map-api-key

# Gitee OAuth（备选）
GITEE_CLIENT_ID=your-gitee-client-id
GITEE_CLIENT_SECRET=your-gitee-client-secret
GITEE_REDIRECT_URI=https://api.your-domain.com/api/auth/oauth/gitee/callback

# 微信支付沙箱（备选）
WECHAT_SANDBOX_APP_ID=wx1234567890abcdef
WECHAT_SANDBOX_MCH_ID=1234567890
WECHAT_SANDBOX_API_KEY=your-wechat-api-key

# ----- 邮件服务配置 -----
# 使用阿里云邮件推送或第三方邮箱
EMAIL_SERVICE=gmail
EMAIL_USER=your-production-email@gmail.com
EMAIL_PASSWORD=your-gmail-app-password
EMAIL_FROM_NAME=交易平台
EMAIL_FROM_ADDRESS=noreply@your-domain.com

# ----- 阿里云OSS文件存储 -----
OSS_ACCESS_KEY_ID=LTAI5your-oss-access-key-id
OSS_ACCESS_KEY_SECRET=your-oss-access-key-secret
OSS_BUCKET=trade-platform-files-bucket
OSS_REGION=oss-cn-hangzhou
OSS_ENDPOINT=oss-cn-hangzhou.aliyuncs.com
OSS_INTERNAL_ENDPOINT=oss-cn-hangzhou-internal.aliyuncs.com

# 本地上传路径（备选）
UPLOAD_PATH=/app/uploads
MAX_FILE_SIZE=10485760

# ----- 安全配置 -----
BCRYPT_ROUNDS=12
SESSION_SECRET=your-production-session-secret-for-aliyun-32chars
CORS_ORIGIN=https://your-domain.com

# ----- 日志配置 -----
LOG_LEVEL=info
LOG_FILE_PATH=/app/logs
LOG_MAX_SIZE=50m
LOG_MAX_FILES=30

# ----- 性能和监控配置 -----
ENABLE_PERFORMANCE_MONITORING=true
ENABLE_ERROR_REPORTING=true
ENABLE_API_DOCS=false
DEBUG_MODE=false

# 阿里云监控配置
ALIYUN_CMS_ENABLE=true
ALIYUN_SLS_PROJECT=trade-platform-logs
ALIYUN_SLS_LOGSTORE=application-logs

# ----- WebSocket配置 -----
SOCKET_IO_CORS_ORIGIN=https://your-domain.com

# ----- 限流配置 -----
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_STRICT_MAX_REQUESTS=5

# ==============================================
# 🔧 配置说明：
# 
# 1. 替换所有 "your-xxx" 占位符为实际值
# 2. 生产环境密码必须使用强密码（32位以上）
# 3. 域名配置需要先完成ICP备案
# 4. OSS配置需要先创建Bucket
# 5. RDS连接串需要配置白名单
# 6. 短信签名和模板需要先审核通过
# 
# ==============================================

# ----- 🏗️ 阿里云服务申请指南 -----
# 
# 1. 短信服务: https://dysms.console.aliyun.com/
# 2. OSS对象存储: https://oss.console.aliyun.com/
# 3. RDS云数据库: https://rdsnext.console.aliyun.com/
# 4. ECS云服务器: https://ecs.console.aliyun.com/
# 5. 负载均衡SLB: https://slb.console.aliyun.com/
# 6. 云监控CMS: https://cms.console.aliyun.com/
# 7. 域名与网站: https://dc.console.aliyun.com/
# 
# ==============================================