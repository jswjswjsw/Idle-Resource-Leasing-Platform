{"ast":null,"code":"import React,{useState}from'react';import{motion}from'framer-motion';import{MessageSquare}from'lucide-react';import ChatList from'../components/ChatList';import ChatWindow from'../components/ChatWindow';import{ChatProvider}from'../hooks/useChat';/**\n * 聊天页面组件\n * 提供完整的聊天功能，包括聊天列表和聊天窗口\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChatPage=()=>{const[selectedChat,setSelectedChat]=useState(null);// 处理选择聊天\nconst handleChatSelect=chat=>{setSelectedChat(chat);};// 处理关闭聊天窗口\nconst handleCloseChat=()=>{setSelectedChat(null);};return/*#__PURE__*/_jsx(ChatProvider,{children:/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-neutral-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mb-6\",children:/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-primary-500 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(MessageSquare,{className:\"w-6 h-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"\\u6D88\\u606F\\u4E2D\\u5FC3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"\\u4E0E\\u79DF\\u8D41\\u4F19\\u4F34\\u8FDB\\u884C\\u5B9E\\u65F6\\u6C9F\\u901A\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-6 h-[calc(100vh-200px)]\",children:[/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:0.1},className:\"w-80 flex-shrink-0\",children:/*#__PURE__*/_jsx(ChatList,{onChatSelect:handleChatSelect,selectedChatId:selectedChat===null||selectedChat===void 0?void 0:selectedChat.id,className:\"h-full\"})}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:0.2},className:\"flex-1 min-w-0\",children:selectedChat?/*#__PURE__*/_jsx(ChatWindow,{orderId:selectedChat.orderId,receiverInfo:{id:selectedChat.user.id,name:selectedChat.user.name,avatar:selectedChat.user.avatar,online:selectedChat.user.online},onClose:handleCloseChat,className:\"h-full\"}):/*#__PURE__*/_jsx(\"div\",{className:\"h-full flex items-center justify-center bg-white rounded-lg shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(MessageSquare,{className:\"w-8 h-8 text-neutral-400\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-neutral-600 mb-2\",children:\"\\u6B22\\u8FCE\\u4F7F\\u7528\\u6D88\\u606F\\u4E2D\\u5FC3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-neutral-500\",children:\"\\u9009\\u62E9\\u4E00\\u4E2A\\u5BF9\\u8BDD\\u5F00\\u59CB\\u804A\\u5929\"})]})})})]})]})})});};export default ChatPage;","map":{"version":3,"names":["React","useState","motion","MessageSquare","ChatList","ChatWindow","ChatProvider","jsx","_jsx","jsxs","_jsxs","ChatPage","selectedChat","setSelectedChat","handleChatSelect","chat","handleCloseChat","children","className","div","initial","opacity","x","animate","transition","delay","onChatSelect","selectedChatId","id","orderId","receiverInfo","user","name","avatar","online","onClose"],"sources":["D:/project/trade/frontend/src/pages/ChatPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { MessageSquare } from 'lucide-react';\nimport ChatList from '../components/ChatList';\nimport ChatWindow from '../components/ChatWindow';\nimport { ChatProvider } from '../hooks/useChat';\n\n/**\n * 聊天页面组件\n * 提供完整的聊天功能，包括聊天列表和聊天窗口\n */\nconst ChatPage: React.FC = () => {\n  const [selectedChat, setSelectedChat] = useState<any>(null);\n\n  // 处理选择聊天\n  const handleChatSelect = (chat: any) => {\n    setSelectedChat(chat);\n  };\n\n  // 处理关闭聊天窗口\n  const handleCloseChat = () => {\n    setSelectedChat(null);\n  };\n\n  return (\n    <ChatProvider>\n      <div className=\"min-h-screen bg-neutral-50\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <motion.div\n              initial={{ opacity: 0, x: -20 }}\n              animate={{ opacity: 1, x: 0 }}\n              className=\"flex items-center gap-3\"\n            >\n              <div className=\"w-10 h-10 bg-primary-500 rounded-lg flex items-center justify-center\">\n                <MessageSquare className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h1 className=\"text-2xl font-bold text-gray-900\">消息中心</h1>\n                <p className=\"text-sm text-gray-600\">与租赁伙伴进行实时沟通</p>\n              </div>\n            </motion.div>\n          </div>\n\n          <div className=\"flex gap-6 h-[calc(100vh-200px)]\">\n            {/* 左侧聊天列表 */}\n            <motion.div\n              initial={{ opacity: 0, x: -20 }}\n              animate={{ opacity: 1, x: 0 }}\n              transition={{ delay: 0.1 }}\n              className=\"w-80 flex-shrink-0\"\n            >\n              <ChatList\n                onChatSelect={handleChatSelect}\n                selectedChatId={selectedChat?.id}\n                className=\"h-full\"\n              />\n            </motion.div>\n\n            {/* 右侧聊天窗口 */}\n            <motion.div\n              initial={{ opacity: 0, x: 20 }}\n              animate={{ opacity: 1, x: 0 }}\n              transition={{ delay: 0.2 }}\n              className=\"flex-1 min-w-0\"\n            >\n              {selectedChat ? (\n                <ChatWindow\n                  orderId={selectedChat.orderId}\n                  receiverInfo={{\n                    id: selectedChat.user.id,\n                    name: selectedChat.user.name,\n                    avatar: selectedChat.user.avatar,\n                    online: selectedChat.user.online,\n                  }}\n                  onClose={handleCloseChat}\n                  className=\"h-full\"\n                />\n              ) : (\n                <div className=\"h-full flex items-center justify-center bg-white rounded-lg shadow-lg\">\n                  <div className=\"text-center\">\n                    <div className=\"w-16 h-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                      <MessageSquare className=\"w-8 h-8 text-neutral-400\" />\n                    </div>\n                    <h3 className=\"text-lg font-medium text-neutral-600 mb-2\">\n                      欢迎使用消息中心\n                    </h3>\n                    <p className=\"text-neutral-500\">\n                      选择一个对话开始聊天\n                    </p>\n                  </div>\n                </div>\n              )}\n            </motion.div>\n          </div>\n        </div>\n      </div>\n    </ChatProvider>\n  );\n};\n\nexport default ChatPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}