{"ast":null,"code":"var _jsxFileName = \"D:\\\\project\\\\trade\\\\frontend\\\\src\\\\components\\\\ChatList.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { Search, MessageCircle, CheckCircle } from 'lucide-react';\nimport { cn } from '../utils/cn';\nimport { formatDistanceToNow } from 'date-fns';\nimport { zhCN } from 'date-fns/locale';\n\n/**\n * 聊天列表组件\n * 显示用户的所有聊天对话，包括订单聊天和系统消息\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatList = ({\n  onChatSelect,\n  selectedChatId,\n  className\n}) => {\n  _s();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filterStatus, setFilterStatus] = useState('all');\n\n  // 模拟聊天数据 - 实际会从API获取\n  const mockChats = [{\n    id: '1',\n    orderId: 'order-001',\n    user: {\n      id: 'user-001',\n      name: '王小明',\n      avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop',\n      online: true\n    },\n    lastMessage: {\n      content: '你好，这个相机可以租一周吗？',\n      timestamp: new Date(Date.now() - 5 * 60 * 1000).toISOString(),\n      isRead: false,\n      senderId: 'user-001'\n    },\n    unreadCount: 2,\n    orderTitle: '佳能EOS R6相机租赁',\n    status: 'active'\n  }, {\n    id: '2',\n    orderId: 'order-002',\n    user: {\n      id: 'user-002',\n      name: '李小红',\n      avatar: 'https://images.unsplash.com/photo-1494790108755-2616b332-3fc1-4030-8dc3-3d0e6c2a8b5f?w=150&h=150&fit=crop',\n      online: false\n    },\n    lastMessage: {\n      content: '谢谢，已经收到帐篷了！',\n      timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\n      isRead: true,\n      senderId: 'user-002'\n    },\n    unreadCount: 0,\n    orderTitle: '户外帐篷租赁',\n    status: 'completed'\n  }, {\n    id: '3',\n    orderId: 'order-003',\n    user: {\n      id: 'user-003',\n      name: '张小华',\n      avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop',\n      online: true\n    },\n    lastMessage: {\n      content: '可以便宜点吗？',\n      timestamp: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString(),\n      isRead: false,\n      senderId: 'user-003'\n    },\n    unreadCount: 1,\n    orderTitle: 'PS5游戏机租赁',\n    status: 'active'\n  }];\n\n  // 实际API调用 - 注释掉的代码\n  /*\n  const { data: chatsData, isLoading } = useQuery({\n    queryKey: ['userChats'],\n    queryFn: () => chatService.getUserChats(),\n    staleTime: 5 * 60 * 1000, // 5分钟\n  });\n  */\n\n  const chats = mockChats;\n  const isLoading = false;\n\n  // 过滤和搜索聊天\n  const filteredChats = chats.filter(chat => {\n    const matchesSearch = chat.user.name.toLowerCase().includes(searchQuery.toLowerCase()) || chat.orderTitle.toLowerCase().includes(searchQuery.toLowerCase());\n    const matchesFilter = filterStatus === 'all' || chat.status === filterStatus;\n    return matchesSearch && matchesFilter;\n  });\n\n  // 获取状态显示文本和样式\n  const getStatusInfo = status => {\n    switch (status) {\n      case 'active':\n        return {\n          text: '进行中',\n          color: 'text-green-600 bg-green-50'\n        };\n      case 'completed':\n        return {\n          text: '已完成',\n          color: 'text-blue-600 bg-blue-50'\n        };\n      case 'cancelled':\n        return {\n          text: '已取消',\n          color: 'text-red-600 bg-red-50'\n        };\n      default:\n        return {\n          text: '未知',\n          color: 'text-gray-600 bg-gray-50'\n        };\n    }\n  };\n\n  // 格式化时间\n  const formatChatTime = timestamp => {\n    return formatDistanceToNow(new Date(timestamp), {\n      addSuffix: true,\n      locale: zhCN\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: cn(\"bg-white rounded-lg shadow-lg flex flex-col h-full\", className),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 border-b border-neutral-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-semibold text-gray-900 mb-3\",\n        children: \"\\u6D88\\u606F\\u4E2D\\u5FC3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          className: \"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\u641C\\u7D22\\u7528\\u6237\\u6216\\u8BA2\\u5355...\",\n          value: searchQuery,\n          onChange: e => setSearchQuery(e.target.value),\n          className: \"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\",\n        children: ['all', 'active', 'completed', 'cancelled'].map(status => {\n          const statusInfo = getStatusInfo(status);\n          return /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setFilterStatus(status),\n            className: cn(\"px-3 py-1 text-xs rounded-full transition-colors\", filterStatus === status ? statusInfo.color : \"bg-gray-100 text-gray-600 hover:bg-gray-200\"),\n            children: status === 'all' ? '全部' : statusInfo.text\n          }, status, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 overflow-y-auto\",\n      children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 space-y-3\",\n        children: [...Array(5)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-3 p-3 animate-pulse\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-12 h-12 bg-gray-200 rounded-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-4 bg-gray-200 rounded w-3/4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-3 bg-gray-200 rounded w-1/2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 17\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }, this) : filteredChats.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center justify-center p-8 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n          className: \"w-12 h-12 text-gray-400 mb-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 mb-2\",\n          children: searchQuery ? '没有找到匹配的聊天' : '暂无消息'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this), searchQuery && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSearchQuery(''),\n          className: \"text-primary-600 hover:text-primary-700 text-sm\",\n          children: \"\\u6E05\\u9664\\u641C\\u7D22\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"divide-y divide-gray-100\",\n        children: filteredChats.map(chat => /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0\n          },\n          animate: {\n            opacity: 1\n          },\n          className: cn(\"flex gap-3 p-4 hover:bg-gray-50 cursor-pointer transition-colors\", selectedChatId === chat.id && \"bg-primary-50 border-l-4 border-primary-500\"),\n          onClick: () => onChatSelect(chat),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative flex-shrink-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: chat.user.avatar,\n              alt: chat.user.name,\n              className: \"w-12 h-12 rounded-full object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 19\n            }, this), chat.user.online && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 21\n            }, this), chat.unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center\",\n              children: chat.unreadCount > 9 ? '9+' : chat.unreadCount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 min-w-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start justify-between mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-medium text-gray-900 text-sm\",\n                  children: chat.user.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500 truncate\",\n                  children: chat.orderTitle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-gray-400\",\n                  children: formatChatTime(chat.lastMessage.timestamp)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: cn(\"px-2 py-1 text-xs rounded-full\", getStatusInfo(chat.status).color),\n                  children: getStatusInfo(chat.status).text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-1\",\n              children: [!chat.lastMessage.isRead && chat.lastMessage.senderId !== chat.user.id && /*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"w-3 h-3 text-primary-500 flex-shrink-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: cn(\"text-sm truncate\", chat.unreadCount > 0 ? \"font-medium text-gray-900\" : \"text-gray-600\"),\n                children: chat.lastMessage.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 17\n          }, this)]\n        }, chat.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-3 border-t border-neutral-200 text-center\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-500\",\n        children: [\"\\u5171 \", filteredChats.length, \" \\u4E2A\\u5BF9\\u8BDD\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatList, \"BbnYCCOeIaVTeKsU5VWAJ4Etoqg=\");\n_c = ChatList;\nexport default ChatList;\nvar _c;\n$RefreshReg$(_c, \"ChatList\");","map":{"version":3,"names":["React","useState","motion","Search","MessageCircle","CheckCircle","cn","formatDistanceToNow","zhCN","jsxDEV","_jsxDEV","ChatList","onChatSelect","selectedChatId","className","_s","searchQuery","setSearchQuery","filterStatus","setFilterStatus","mockChats","id","orderId","user","name","avatar","online","lastMessage","content","timestamp","Date","now","toISOString","isRead","senderId","unreadCount","orderTitle","status","chats","isLoading","filteredChats","filter","chat","matchesSearch","toLowerCase","includes","matchesFilter","getStatusInfo","text","color","formatChatTime","addSuffix","locale","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","map","statusInfo","onClick","Array","_","i","length","div","initial","opacity","animate","src","alt","_c","$RefreshReg$"],"sources":["D:/project/trade/frontend/src/components/ChatList.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { Search, MessageCircle, Clock, CheckCircle } from 'lucide-react';\nimport { useQuery } from '@tanstack/react-query';\nimport { cn } from '../utils/cn';\nimport { formatDistanceToNow } from 'date-fns';\nimport { zhCN } from 'date-fns/locale';\n\n/**\n * 聊天列表组件\n * 显示用户的所有聊天对话，包括订单聊天和系统消息\n */\ninterface ChatItem {\n  id: string;\n  orderId: string;\n  user: {\n    id: string;\n    name: string;\n    avatar: string;\n    online?: boolean;\n  };\n  lastMessage: {\n    content: string;\n    timestamp: string;\n    isRead: boolean;\n    senderId: string;\n  };\n  unreadCount: number;\n  orderTitle: string;\n  status: 'active' | 'completed' | 'cancelled';\n}\n\ninterface ChatListProps {\n  onChatSelect: (chat: ChatItem) => void;\n  selectedChatId?: string;\n  className?: string;\n}\n\nconst ChatList: React.FC<ChatListProps> = ({\n  onChatSelect,\n  selectedChatId,\n  className\n}) => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filterStatus, setFilterStatus] = useState<'all' | 'active' | 'completed' | 'cancelled'>('all');\n\n  // 模拟聊天数据 - 实际会从API获取\n  const mockChats: ChatItem[] = [\n    {\n      id: '1',\n      orderId: 'order-001',\n      user: {\n        id: 'user-001',\n        name: '王小明',\n        avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop',\n        online: true,\n      },\n      lastMessage: {\n        content: '你好，这个相机可以租一周吗？',\n        timestamp: new Date(Date.now() - 5 * 60 * 1000).toISOString(),\n        isRead: false,\n        senderId: 'user-001',\n      },\n      unreadCount: 2,\n      orderTitle: '佳能EOS R6相机租赁',\n      status: 'active',\n    },\n    {\n      id: '2',\n      orderId: 'order-002',\n      user: {\n        id: 'user-002',\n        name: '李小红',\n        avatar: 'https://images.unsplash.com/photo-1494790108755-2616b332-3fc1-4030-8dc3-3d0e6c2a8b5f?w=150&h=150&fit=crop',\n        online: false,\n      },\n      lastMessage: {\n        content: '谢谢，已经收到帐篷了！',\n        timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\n        isRead: true,\n        senderId: 'user-002',\n      },\n      unreadCount: 0,\n      orderTitle: '户外帐篷租赁',\n      status: 'completed',\n    },\n    {\n      id: '3',\n      orderId: 'order-003',\n      user: {\n        id: 'user-003',\n        name: '张小华',\n        avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop',\n        online: true,\n      },\n      lastMessage: {\n        content: '可以便宜点吗？',\n        timestamp: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString(),\n        isRead: false,\n        senderId: 'user-003',\n      },\n      unreadCount: 1,\n      orderTitle: 'PS5游戏机租赁',\n      status: 'active',\n    },\n  ];\n\n  // 实际API调用 - 注释掉的代码\n  /*\n  const { data: chatsData, isLoading } = useQuery({\n    queryKey: ['userChats'],\n    queryFn: () => chatService.getUserChats(),\n    staleTime: 5 * 60 * 1000, // 5分钟\n  });\n  */\n\n  const chats = mockChats;\n  const isLoading = false;\n\n  // 过滤和搜索聊天\n  const filteredChats = chats.filter(chat => {\n    const matchesSearch = chat.user.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                         chat.orderTitle.toLowerCase().includes(searchQuery.toLowerCase());\n    \n    const matchesFilter = filterStatus === 'all' || chat.status === filterStatus;\n    \n    return matchesSearch && matchesFilter;\n  });\n\n  // 获取状态显示文本和样式\n  const getStatusInfo = (status: string) => {\n    switch (status) {\n      case 'active':\n        return { text: '进行中', color: 'text-green-600 bg-green-50' };\n      case 'completed':\n        return { text: '已完成', color: 'text-blue-600 bg-blue-50' };\n      case 'cancelled':\n        return { text: '已取消', color: 'text-red-600 bg-red-50' };\n      default:\n        return { text: '未知', color: 'text-gray-600 bg-gray-50' };\n    }\n  };\n\n  // 格式化时间\n  const formatChatTime = (timestamp: string) => {\n    return formatDistanceToNow(new Date(timestamp), { \n      addSuffix: true, \n      locale: zhCN \n    });\n  };\n\n  return (\n    <div className={cn(\"bg-white rounded-lg shadow-lg flex flex-col h-full\", className)}>\n      {/* 头部 */}\n      <div className=\"p-4 border-b border-neutral-200\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-3\">消息中心</h2>\n        \n        {/* 搜索框 */}\n        <div className=\"relative mb-3\">\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n          <input\n            type=\"text\"\n            placeholder=\"搜索用户或订单...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className=\"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\n          />\n        </div>\n\n        {/* 筛选标签 */}\n        <div className=\"flex gap-2\">\n          {(['all', 'active', 'completed', 'cancelled'] as const).map((status) => {\n            const statusInfo = getStatusInfo(status);\n            return (\n              <button\n                key={status}\n                onClick={() => setFilterStatus(status)}\n                className={cn(\n                  \"px-3 py-1 text-xs rounded-full transition-colors\",\n                  filterStatus === status\n                    ? statusInfo.color\n                    : \"bg-gray-100 text-gray-600 hover:bg-gray-200\"\n                )}\n              >\n                {status === 'all' ? '全部' : statusInfo.text}\n              </button>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* 聊天列表 */}\n      <div className=\"flex-1 overflow-y-auto\">\n        {isLoading ? (\n          <div className=\"p-4 space-y-3\">\n            {[...Array(5)].map((_, i) => (\n              <div key={i} className=\"flex gap-3 p-3 animate-pulse\">\n                <div className=\"w-12 h-12 bg-gray-200 rounded-full\"></div>\n                <div className=\"flex-1 space-y-2\">\n                  <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\n                  <div className=\"h-3 bg-gray-200 rounded w-1/2\"></div>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : filteredChats.length === 0 ? (\n          <div className=\"flex flex-col items-center justify-center p-8 text-center\">\n            <MessageCircle className=\"w-12 h-12 text-gray-400 mb-3\" />\n            <p className=\"text-gray-500 mb-2\">{searchQuery ? '没有找到匹配的聊天' : '暂无消息'}</p>\n            {searchQuery && (\n              <button\n                onClick={() => setSearchQuery('')}\n                className=\"text-primary-600 hover:text-primary-700 text-sm\"\n              >\n                清除搜索\n              </button>\n            )}\n          </div>\n        ) : (\n          <div className=\"divide-y divide-gray-100\">\n            {filteredChats.map((chat) => (\n              <motion.div\n                key={chat.id}\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                className={cn(\n                  \"flex gap-3 p-4 hover:bg-gray-50 cursor-pointer transition-colors\",\n                  selectedChatId === chat.id && \"bg-primary-50 border-l-4 border-primary-500\"\n                )}\n                onClick={() => onChatSelect(chat)}\n              >\n                {/* 头像 */}\n                <div className=\"relative flex-shrink-0\">\n                  <img\n                    src={chat.user.avatar}\n                    alt={chat.user.name}\n                    className=\"w-12 h-12 rounded-full object-cover\"\n                  />\n                  {chat.user.online && (\n                    <div className=\"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white\"></div>\n                  )}\n                  {chat.unreadCount > 0 && (\n                    <div className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center\">\n                      {chat.unreadCount > 9 ? '9+' : chat.unreadCount}\n                    </div>\n                  )}\n                </div>\n\n                {/* 内容 */}\n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"flex items-start justify-between mb-1\">\n                    <div>\n                      <h3 className=\"font-medium text-gray-900 text-sm\">{chat.user.name}</h3>\n                      <p className=\"text-xs text-gray-500 truncate\">{chat.orderTitle}</p>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"text-xs text-gray-400\">{formatChatTime(chat.lastMessage.timestamp)}</span>\n                      <span className={cn(\"px-2 py-1 text-xs rounded-full\", getStatusInfo(chat.status).color)}>\n                        {getStatusInfo(chat.status).text}\n                      </span>\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex items-center gap-1\">\n                    {!chat.lastMessage.isRead && chat.lastMessage.senderId !== chat.user.id && (\n                      <CheckCircle className=\"w-3 h-3 text-primary-500 flex-shrink-0\" />\n                    )}\n                    <p className={cn(\n                      \"text-sm truncate\",\n                      chat.unreadCount > 0 ? \"font-medium text-gray-900\" : \"text-gray-600\"\n                    )}>\n                      {chat.lastMessage.content}\n                    </p>\n                  </div>\n                </div>\n              </motion.div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* 底部统计 */}\n      <div className=\"p-3 border-t border-neutral-200 text-center\">\n        <p className=\"text-sm text-gray-500\">\n          共 {filteredChats.length} 个对话\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatList;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,MAAM,QAAQ,eAAe;AACtC,SAASC,MAAM,EAAEC,aAAa,EAASC,WAAW,QAAQ,cAAc;AAExE,SAASC,EAAE,QAAQ,aAAa;AAChC,SAASC,mBAAmB,QAAQ,UAAU;AAC9C,SAASC,IAAI,QAAQ,iBAAiB;;AAEtC;AACA;AACA;AACA;AAHA,SAAAC,MAAA,IAAAC,OAAA;AA8BA,MAAMC,QAAiC,GAAGA,CAAC;EACzCC,YAAY;EACZC,cAAc;EACdC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACiB,YAAY,EAAEC,eAAe,CAAC,GAAGlB,QAAQ,CAA+C,KAAK,CAAC;;EAErG;EACA,MAAMmB,SAAqB,GAAG,CAC5B;IACEC,EAAE,EAAE,GAAG;IACPC,OAAO,EAAE,WAAW;IACpBC,IAAI,EAAE;MACJF,EAAE,EAAE,UAAU;MACdG,IAAI,EAAE,KAAK;MACXC,MAAM,EAAE,mFAAmF;MAC3FC,MAAM,EAAE;IACV,CAAC;IACDC,WAAW,EAAE;MACXC,OAAO,EAAE,gBAAgB;MACzBC,SAAS,EAAE,IAAIC,IAAI,CAACA,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,CAACC,WAAW,CAAC,CAAC;MAC7DC,MAAM,EAAE,KAAK;MACbC,QAAQ,EAAE;IACZ,CAAC;IACDC,WAAW,EAAE,CAAC;IACdC,UAAU,EAAE,cAAc;IAC1BC,MAAM,EAAE;EACV,CAAC,EACD;IACEhB,EAAE,EAAE,GAAG;IACPC,OAAO,EAAE,WAAW;IACpBC,IAAI,EAAE;MACJF,EAAE,EAAE,UAAU;MACdG,IAAI,EAAE,KAAK;MACXC,MAAM,EAAE,2GAA2G;MACnHC,MAAM,EAAE;IACV,CAAC;IACDC,WAAW,EAAE;MACXC,OAAO,EAAE,aAAa;MACtBC,SAAS,EAAE,IAAIC,IAAI,CAACA,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAACC,WAAW,CAAC,CAAC;MAClEC,MAAM,EAAE,IAAI;MACZC,QAAQ,EAAE;IACZ,CAAC;IACDC,WAAW,EAAE,CAAC;IACdC,UAAU,EAAE,QAAQ;IACpBC,MAAM,EAAE;EACV,CAAC,EACD;IACEhB,EAAE,EAAE,GAAG;IACPC,OAAO,EAAE,WAAW;IACpBC,IAAI,EAAE;MACJF,EAAE,EAAE,UAAU;MACdG,IAAI,EAAE,KAAK;MACXC,MAAM,EAAE,mFAAmF;MAC3FC,MAAM,EAAE;IACV,CAAC;IACDC,WAAW,EAAE;MACXC,OAAO,EAAE,SAAS;MAClBC,SAAS,EAAE,IAAIC,IAAI,CAACA,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAACC,WAAW,CAAC,CAAC;MACnEC,MAAM,EAAE,KAAK;MACbC,QAAQ,EAAE;IACZ,CAAC;IACDC,WAAW,EAAE,CAAC;IACdC,UAAU,EAAE,UAAU;IACtBC,MAAM,EAAE;EACV,CAAC,CACF;;EAED;EACA;AACF;AACA;AACA;AACA;AACA;AACA;;EAEE,MAAMC,KAAK,GAAGlB,SAAS;EACvB,MAAMmB,SAAS,GAAG,KAAK;;EAEvB;EACA,MAAMC,aAAa,GAAGF,KAAK,CAACG,MAAM,CAACC,IAAI,IAAI;IACzC,MAAMC,aAAa,GAAGD,IAAI,CAACnB,IAAI,CAACC,IAAI,CAACoB,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC7B,WAAW,CAAC4B,WAAW,CAAC,CAAC,CAAC,IACjEF,IAAI,CAACN,UAAU,CAACQ,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC7B,WAAW,CAAC4B,WAAW,CAAC,CAAC,CAAC;IAEtF,MAAME,aAAa,GAAG5B,YAAY,KAAK,KAAK,IAAIwB,IAAI,CAACL,MAAM,KAAKnB,YAAY;IAE5E,OAAOyB,aAAa,IAAIG,aAAa;EACvC,CAAC,CAAC;;EAEF;EACA,MAAMC,aAAa,GAAIV,MAAc,IAAK;IACxC,QAAQA,MAAM;MACZ,KAAK,QAAQ;QACX,OAAO;UAAEW,IAAI,EAAE,KAAK;UAAEC,KAAK,EAAE;QAA6B,CAAC;MAC7D,KAAK,WAAW;QACd,OAAO;UAAED,IAAI,EAAE,KAAK;UAAEC,KAAK,EAAE;QAA2B,CAAC;MAC3D,KAAK,WAAW;QACd,OAAO;UAAED,IAAI,EAAE,KAAK;UAAEC,KAAK,EAAE;QAAyB,CAAC;MACzD;QACE,OAAO;UAAED,IAAI,EAAE,IAAI;UAAEC,KAAK,EAAE;QAA2B,CAAC;IAC5D;EACF,CAAC;;EAED;EACA,MAAMC,cAAc,GAAIrB,SAAiB,IAAK;IAC5C,OAAOtB,mBAAmB,CAAC,IAAIuB,IAAI,CAACD,SAAS,CAAC,EAAE;MAC9CsB,SAAS,EAAE,IAAI;MACfC,MAAM,EAAE5C;IACV,CAAC,CAAC;EACJ,CAAC;EAED,oBACEE,OAAA;IAAKI,SAAS,EAAER,EAAE,CAAC,oDAAoD,EAAEQ,SAAS,CAAE;IAAAuC,QAAA,gBAElF3C,OAAA;MAAKI,SAAS,EAAC,iCAAiC;MAAAuC,QAAA,gBAC9C3C,OAAA;QAAII,SAAS,EAAC,0CAA0C;QAAAuC,QAAA,EAAC;MAAI;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAGlE/C,OAAA;QAAKI,SAAS,EAAC,eAAe;QAAAuC,QAAA,gBAC5B3C,OAAA,CAACP,MAAM;UAACW,SAAS,EAAC;QAA0E;UAAAwC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC/F/C,OAAA;UACEgD,IAAI,EAAC,MAAM;UACXC,WAAW,EAAC,+CAAY;UACxBC,KAAK,EAAE5C,WAAY;UACnB6C,QAAQ,EAAGC,CAAC,IAAK7C,cAAc,CAAC6C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;UAChD9C,SAAS,EAAC;QAAyH;UAAAwC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAGN/C,OAAA;QAAKI,SAAS,EAAC,YAAY;QAAAuC,QAAA,EACvB,CAAC,KAAK,EAAE,QAAQ,EAAE,WAAW,EAAE,WAAW,CAAC,CAAWW,GAAG,CAAE3B,MAAM,IAAK;UACtE,MAAM4B,UAAU,GAAGlB,aAAa,CAACV,MAAM,CAAC;UACxC,oBACE3B,OAAA;YAEEwD,OAAO,EAAEA,CAAA,KAAM/C,eAAe,CAACkB,MAAM,CAAE;YACvCvB,SAAS,EAAER,EAAE,CACX,kDAAkD,EAClDY,YAAY,KAAKmB,MAAM,GACnB4B,UAAU,CAAChB,KAAK,GAChB,6CACN,CAAE;YAAAI,QAAA,EAEDhB,MAAM,KAAK,KAAK,GAAG,IAAI,GAAG4B,UAAU,CAACjB;UAAI,GATrCX,MAAM;YAAAiB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAUL,CAAC;QAEb,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGN/C,OAAA;MAAKI,SAAS,EAAC,wBAAwB;MAAAuC,QAAA,EACpCd,SAAS,gBACR7B,OAAA;QAAKI,SAAS,EAAC,eAAe;QAAAuC,QAAA,EAC3B,CAAC,GAAGc,KAAK,CAAC,CAAC,CAAC,CAAC,CAACH,GAAG,CAAC,CAACI,CAAC,EAAEC,CAAC,kBACtB3D,OAAA;UAAaI,SAAS,EAAC,8BAA8B;UAAAuC,QAAA,gBACnD3C,OAAA;YAAKI,SAAS,EAAC;UAAoC;YAAAwC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC1D/C,OAAA;YAAKI,SAAS,EAAC,kBAAkB;YAAAuC,QAAA,gBAC/B3C,OAAA;cAAKI,SAAS,EAAC;YAA+B;cAAAwC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACrD/C,OAAA;cAAKI,SAAS,EAAC;YAA+B;cAAAwC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClD,CAAC;QAAA,GALEY,CAAC;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAMN,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,GACJjB,aAAa,CAAC8B,MAAM,KAAK,CAAC,gBAC5B5D,OAAA;QAAKI,SAAS,EAAC,2DAA2D;QAAAuC,QAAA,gBACxE3C,OAAA,CAACN,aAAa;UAACU,SAAS,EAAC;QAA8B;UAAAwC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC1D/C,OAAA;UAAGI,SAAS,EAAC,oBAAoB;UAAAuC,QAAA,EAAErC,WAAW,GAAG,WAAW,GAAG;QAAM;UAAAsC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EACzEzC,WAAW,iBACVN,OAAA;UACEwD,OAAO,EAAEA,CAAA,KAAMjD,cAAc,CAAC,EAAE,CAAE;UAClCH,SAAS,EAAC,iDAAiD;UAAAuC,QAAA,EAC5D;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACT;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,gBAEN/C,OAAA;QAAKI,SAAS,EAAC,0BAA0B;QAAAuC,QAAA,EACtCb,aAAa,CAACwB,GAAG,CAAEtB,IAAI,iBACtBhC,OAAA,CAACR,MAAM,CAACqE,GAAG;UAETC,OAAO,EAAE;YAAEC,OAAO,EAAE;UAAE,CAAE;UACxBC,OAAO,EAAE;YAAED,OAAO,EAAE;UAAE,CAAE;UACxB3D,SAAS,EAAER,EAAE,CACX,kEAAkE,EAClEO,cAAc,KAAK6B,IAAI,CAACrB,EAAE,IAAI,6CAChC,CAAE;UACF6C,OAAO,EAAEA,CAAA,KAAMtD,YAAY,CAAC8B,IAAI,CAAE;UAAAW,QAAA,gBAGlC3C,OAAA;YAAKI,SAAS,EAAC,wBAAwB;YAAAuC,QAAA,gBACrC3C,OAAA;cACEiE,GAAG,EAAEjC,IAAI,CAACnB,IAAI,CAACE,MAAO;cACtBmD,GAAG,EAAElC,IAAI,CAACnB,IAAI,CAACC,IAAK;cACpBV,SAAS,EAAC;YAAqC;cAAAwC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChD,CAAC,EACDf,IAAI,CAACnB,IAAI,CAACG,MAAM,iBACfhB,OAAA;cAAKI,SAAS,EAAC;YAAmF;cAAAwC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CACzG,EACAf,IAAI,CAACP,WAAW,GAAG,CAAC,iBACnBzB,OAAA;cAAKI,SAAS,EAAC,8GAA8G;cAAAuC,QAAA,EAC1HX,IAAI,CAACP,WAAW,GAAG,CAAC,GAAG,IAAI,GAAGO,IAAI,CAACP;YAAW;cAAAmB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5C,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAGN/C,OAAA;YAAKI,SAAS,EAAC,gBAAgB;YAAAuC,QAAA,gBAC7B3C,OAAA;cAAKI,SAAS,EAAC,uCAAuC;cAAAuC,QAAA,gBACpD3C,OAAA;gBAAA2C,QAAA,gBACE3C,OAAA;kBAAII,SAAS,EAAC,mCAAmC;kBAAAuC,QAAA,EAAEX,IAAI,CAACnB,IAAI,CAACC;gBAAI;kBAAA8B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACvE/C,OAAA;kBAAGI,SAAS,EAAC,gCAAgC;kBAAAuC,QAAA,EAAEX,IAAI,CAACN;gBAAU;kBAAAkB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChE,CAAC,eACN/C,OAAA;gBAAKI,SAAS,EAAC,yBAAyB;gBAAAuC,QAAA,gBACtC3C,OAAA;kBAAMI,SAAS,EAAC,uBAAuB;kBAAAuC,QAAA,EAAEH,cAAc,CAACR,IAAI,CAACf,WAAW,CAACE,SAAS;gBAAC;kBAAAyB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eAC3F/C,OAAA;kBAAMI,SAAS,EAAER,EAAE,CAAC,gCAAgC,EAAEyC,aAAa,CAACL,IAAI,CAACL,MAAM,CAAC,CAACY,KAAK,CAAE;kBAAAI,QAAA,EACrFN,aAAa,CAACL,IAAI,CAACL,MAAM,CAAC,CAACW;gBAAI;kBAAAM,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5B,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAEN/C,OAAA;cAAKI,SAAS,EAAC,yBAAyB;cAAAuC,QAAA,GACrC,CAACX,IAAI,CAACf,WAAW,CAACM,MAAM,IAAIS,IAAI,CAACf,WAAW,CAACO,QAAQ,KAAKQ,IAAI,CAACnB,IAAI,CAACF,EAAE,iBACrEX,OAAA,CAACL,WAAW;gBAACS,SAAS,EAAC;cAAwC;gBAAAwC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAClE,eACD/C,OAAA;gBAAGI,SAAS,EAAER,EAAE,CACd,kBAAkB,EAClBoC,IAAI,CAACP,WAAW,GAAG,CAAC,GAAG,2BAA2B,GAAG,eACvD,CAAE;gBAAAkB,QAAA,EACCX,IAAI,CAACf,WAAW,CAACC;cAAO;gBAAA0B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA,GApDDf,IAAI,CAACrB,EAAE;UAAAiC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAqDF,CACb;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IACN;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGN/C,OAAA;MAAKI,SAAS,EAAC,6CAA6C;MAAAuC,QAAA,eAC1D3C,OAAA;QAAGI,SAAS,EAAC,uBAAuB;QAAAuC,QAAA,GAAC,SACjC,EAACb,aAAa,CAAC8B,MAAM,EAAC,qBAC1B;MAAA;QAAAhB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC1C,EAAA,CA3PIJ,QAAiC;AAAAkE,EAAA,GAAjClE,QAAiC;AA6PvC,eAAeA,QAAQ;AAAC,IAAAkE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}